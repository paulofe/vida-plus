<!DOCTYPE html><html lang="pt-BR"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vida+ v6.0.1</title><meta name="theme-color" content="#0e0f12"/>
<link rel="manifest" href="manifest.webmanifest?v=601"/>
<style>
:root{--pad:14px;--font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
--bg:#0e0f12;--fg:#f2f2f2;--muted:#9aa4b2;--line:#2a2d33;--card:#15171c;--accent:#1f6feb;--good:#9be9a8;--warn:#ffd866;--bad:#ff6b6b;--pageW:860px}
*{box-sizing:border-box} html,body{overflow-x:hidden} body{margin:0;background:var(--bg);color:var(--fg);font-family:var(--font)}
/* Header sticky & constrained */
header#hdr{position:sticky;top:0;z-index:1000;backdrop-filter:blur(8px);background:#0e0f12cc;
max-width:var(--pageW);margin:0 auto;border-bottom:1px solid var(--line);padding:10px var(--pad);
display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px}
h1{margin:0;font-size:22px}
.top-center{display:flex;align-items:center;justify-content:center;gap:10px;min-width:200px}
.scoreTop{font-weight:800;font-size:18px;font-variant-numeric:tabular-nums}
.scoreTop .outOf::before{content:" / ";opacity:.6;margin:0 3px}
.dateTop{justify-self:end;opacity:.9;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
main{max-width:var(--pageW);margin:0 auto;padding:var(--pad);display:grid;gap:16px}
section{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap} .col{display:flex;flex-direction:column;gap:8px}
.small{font-size:12px;opacity:.85} .hint{font-size:12px;opacity:.75} .right{margin-left:auto}
.pill{background:#0f1115;border:1px solid var(--line);border-radius:12px;padding:8px 10px;cursor:pointer}
.btn{background:var(--accent);border:0;border-radius:12px;padding:10px 14px;color:#fff;font-weight:700;cursor:pointer}
.btn.secondary{background:#242832;border:1px solid #3a3f47} .btn.ghost{background:transparent;border:1px solid var(--line)}
input[type="number"],input[type='text'],input[type='date'],input[type='email'],input[type='password']{background:#0f1115;border:1px solid var(--line);border-radius:10px;color:var(--fg);padding:10px}
.meal{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #2a2d33}
.meal:last-child{border-bottom:0}
.stars{display:flex;gap:6px} .star{font-size:20px;color:#555;opacity:.7;cursor:pointer} .star.on{color:#ffd34d;opacity:1}
.progress{height:8px;border-radius:6px;background:#0f1115;border:1px solid var(--line);overflow:hidden}
.progress>div{height:100%;background:#4ea3ff}
.histHead,.histRow{display:grid;grid-template-columns:80px 1fr 110px;gap:12px;align-items:center}
.histHead{font-size:12px;opacity:.8} .histRow{padding:8px;border:1px dashed #2a2d33;border-radius:10px;margin-top:8px}
.bad{color:var(--bad)} .warn{color:var(--warn)} .good{color:var(--good)}
#loginOverlay{position:fixed;inset:0;background:#0e0f12;display:none;align-items:center;justify-content:center;padding:24px;z-index:9}
.loginCard{max-width:420px;width:100%;background:#11131a;border:1px solid var(--line);border-radius:16px;padding:20px;text-align:center}
.ver{opacity:.6;font-size:12px;margin-top:4px}
canvas{width:100%;height:200px;background:#0f1115;border:1px solid var(--line);border-radius:10px}

/* ‚Äî‚Äî‚Äî TOPO (ajustes visuais) ‚Äî‚Äî‚Äî */

/* 1) Nota: mesmo tamanho do "Vida+" */
h1{ font-size:22px }                 /* j√° est√° assim */
.scoreTop{ font-size:22px; font-weight:800; font-variant-numeric:tabular-nums; }

/* 2) ‚Äú/ 100‚Äù: menor e cinza discreto, com espa√ßo antes */
.scoreTop .outOf{
  font-size:12px;
  color: var(--muted,#9aa4b2);
  opacity:.9;
}
.scoreTop .outOf::before{
  content:" / ";
  color: var(--muted,#9aa4b2);
  opacity:.9;
  margin:0 4px 0 2px;   /* garante espa√ßo vis√≠vel antes do 100 */
}

/* 3) Sequ√™ncia (üî•) com borda em volta do n√∫mero + √≠cone (estilo ‚Äúpill‚Äù) */
.streak{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border:1px solid var(--line,#2a2d33);
  border-radius:999px;
  background:rgba(255,255,255,0.03);
  font-weight:500;
}

/* 4) Topo realmente flutuante (refor√ßos) */
header#hdr{
  position: -webkit-sticky; /* iOS/Safari */
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* 5) Evitar que algum cont√™iner quebre o sticky */
html, body { overflow-x: hidden; }     /* ok manter */
main{ overflow: visible; }             /* importante p/ sticky funcionar */

/* ==== PATCH TOPO v6.0.1 (somente topo) ==== */

/* 0) Reserva espa√ßo do topo fixo pra n√£o sobrepor o conte√∫do */
:root{ --hdrH: 58px; }      /* ajuste fino se precisar (+/- 2px) */
body{ padding-top: var(--hdrH); }

/* 1) Topo realmente flutuante e alinhado √† largura das se√ß√µes */
header#hdr{
  position: fixed;          /* em vez de sticky */
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: var(--pageW);      /* mesma largura das se√ß√µes */
  z-index: 1000;
  backdrop-filter: blur(8px);
  background: #0e0f12cc;
  border-bottom: 1px solid var(--line);
  padding: 10px var(--pad);
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 12px;
}

/* 2) Nota: mesmo tamanho do "Vida+" */
h1{ font-size:22px; }                 /* voc√™ j√° tinha */
.scoreTop{ font-size:22px; font-weight:800; font-variant-numeric:tabular-nums; }

/* 3) ‚Äú/ 100‚Äù: menor e cinza discreto, com espa√ßo antes */
.scoreTop .outOf{
  font-size:12px;
  color: var(--muted,#9aa4b2);
  opacity:.9;
}
.scoreTop .outOf::before{
  content:" / ";
  color: var(--muted,#9aa4b2);
  opacity:.9;
  margin:0 4px 0 2px;  /* garante espa√ßo vis√≠vel antes do 100 */
}

/* 4) Sequ√™ncia com borda (pill) */
.streak{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border:1px solid var(--line,#2a2d33);
  border-radius:999px;
  background:rgba(255,255,255,0.03);
  font-weight:600;
}

/* 5) Data: uma linha, sem borda, n√£o cortar */
.dateTop{
  border: none;
  background: transparent;
  font-size: 12px;
  line-height: 1;
  padding: 2px 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  justify-self: end;
}

  /* 6) Mobile: topo ocupa toda a largura pra n√£o cortar */
@media (max-width: 768px){
  header#hdr{
    left: 0;
    transform: none;
    width: 100%;
    border-radius: 0;
  }
}

/* Peso ‚Äî refinamentos visuais */
#secPeso .row.tight{ margin-top: 4px; }
#secPeso .hint{ color: var(--muted); }         /* textos pequenos em cinza discreto */
#secPeso .kgRow{ gap:14px; align-items:flex-start; margin-top:8px; }
#secPeso .kgRow input#pesoHoje{ width: 80px; } /* metade do ~160px */
#secPeso .kgRow .kgSide{ display:flex; flex-direction:column; gap:2px; }
#secPeso .kgRow .hint{ white-space:nowrap; }

/* Sono ‚Äî alinhamentos e estilos */
#secSono .row:first-child{ margin-bottom: 12px; }
#secSono .sleepRow{ gap:14px; align-items:center; }
#secSono #sleepHours{ width: 80px; }
#secSono #sleepMetaHint{ color: var(--muted); }
#secSono #scoreSono{ font-weight: 800; font-size: 16px; font-family: inherit; margin-left: 8px; }
#secSono .sleepStarsWrap{ flex:1; display:flex; flex-direction:column; align-items:center; gap:6px; justify-content:center; }
#secSono .stars{ align-items:center; }

/* Cores de compara√ß√£o para ‚ÄúOntem‚Äù (usadas pelo JS) */
#pesoYesterday .good{ color: var(--good); }    /* caiu: verde */
#pesoYesterday .warn{ color: var(--warn); }    /* igual: amarelo */
#pesoYesterday .bad { color: var(--bad); }     /* subiu: vermelho */

/* Feedback de salvamento discreto */
#pesoSaveStatus.saving{ opacity:.75; transition: opacity .15s; }
#pesoSaveStatus.saved { opacity:.75; }

  
</style>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>window.SUPABASE_URL="https://ftqjhcgzlnfuqlktltgw.supabase.co";window.SUPABASE_ANON="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ0cWpoY2d6bG5mdXFsa3RsdGd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3NDk3ODUsImV4cCI6MjA3MDMyNTc4NX0.HwuDNMTCa2erpLsnjRnfwpHCtqBLmBRqMW2lmaASxDM";</script>
</head><body>
<header id="hdr">
  <h1>Vida+</h1>
  <div class="top-center">
    <div class="scoreTop"><span id="scoreTop">0</span><span class="outOf">100</span></div>
    <div class="streak"><span id="streakNum">0</span> üî•</div>
  </div>
  <div id="dateTop" class="dateTop">‚Äî</div>
</header>

<div id="loginOverlay">
  <div class="loginCard">
    <div style="font-size:40px">üåøüîê</div>
    <h2 style="margin:6px 0 2px">Entrar</h2>
    <div class="ver">v6.0.1</div>
    <div class="row" style="justify-content:center;margin-top:10px">
      <input id="loginEmail" type="email" placeholder="seu@email" style="width:260px">
      <input id="loginPass" type="password" placeholder="senha" style="width:260px">
    </div>
    <div class="row" style="justify-content:center;margin-top:8px">
      <button id="btnSignIn" class="btn">Entrar</button>
      <button id="btnSignUp" class="btn secondary">Criar conta</button>
      <button id="btnReset" class="btn ghost">Esqueci a senha</button>
    </div>
    <div id="loginMsg" class="hint" style="margin-top:8px"></div>
  </div>
</div>

<main id="app" style="display:none">

<!-- Peso -->
<section id="secPeso">
  <div class="row"><div><strong>‚öñÔ∏è Peso</strong></div></div>

  <div class="row kgRow">
    <input id="pesoHoje" type="number" step="0.01" placeholder="ex: 88.2">
    <div class="kgSide">
      <div id="pesoYesterday" class="hint">Ontem: ‚Äî</div>
      <div id="pesoMeta" class="hint">Meta: ‚Äî</div>
    </div>
  </div>



  
  
</section>

  <!-- Sono -->
  <section id="secSono">
    <div class="row"><div><strong>üò¥ Sono</strong> <span id="scoreSono">( 0 / 25 )</span></div></div>
    <div class="row sleepRow">
      <div class="col">
        <input id="sleepHours" type="number" step="0.1" placeholder="ex: 6.5">
        <div id="sleepMetaHint" class="hint">Meta: ‚Äî</div>
      </div>
      <div class="sleepStarsWrap">
        <label class="small">Qualidade</label>
        <div id="sleepStars" class="stars"><span class="star">‚òÖ</span><span class="star">‚òÖ</span><span class="star">‚òÖ</span></div>
      </div>
    </div>
  </section>

  <!-- Alimenta√ß√£o -->
  <section>
    <div class="row"><div><strong>üçΩÔ∏è Alimenta√ß√£o</strong> <span id="scoreFood" class="hint">0/45</span></div></div>
    <div id="meals"></div>
    <div class="hint">Toque no nome para limpar.</div>
  </section>

  <!-- Exerc√≠cio -->
  <section>
    <div class="row"><div><strong>üèÉ Exerc√≠cio</strong> <span id="scoreEx" class="hint">0/15</span></div><div id="treinoOntem" class="hint right"></div></div>
    <div class="row">
      <button class="pill" data-treino="A">Treino A</button>
      <button class="pill" data-treino="B">Treino B</button>
      <button class="pill" data-treino="C">Treino C</button>
    </div>
    <div class="row" style="margin-top:6px">
      <label class="small">Caminhada (min)</label>
      <input id="walkMin" type="number" step="1" placeholder="ex: 30" style="width:120px">
    </div>
  </section>

  <!-- Mente -->
  <section>
    <div class="row"><div><strong>üß† Mente</strong> <span id="scoreMind" class="hint">0/5</span></div></div>
    <div class="row">
      <button class="pill mind" data-mind="read">Ler</button>
      <button class="pill mind" data-mind="book">Livro</button>
      <button class="pill mind" data-mind="meditate">Meditar</button>
    </div>
  </section>

  <!-- Hidrata√ß√£o -->
  <section>
    <div class="row"><div><strong>üíß Hidrata√ß√£o</strong> <span id="scoreWater" class="hint">0/10</span></div><div class="hint right"><span id="waterPct">0%</span></div></div>
    <div class="row">
      <button id="btnWaterMinus" class="pill">- 1 copo</button>
      <button id="btnWaterPlus" class="pill">+ 250 ml</button>
      <button id="btnWaterPlus300" class="pill">+ 300 ml</button>
    </div>
    <div class="progress" style="margin-top:8px"><div id="waterBar" style="width:0%"></div></div>
    <div class="row"><div class="hint"> </div><div id="waterTotal" class="hint right">0 / 2500 ml</div></div>
  </section>

  <!-- Bebidas -->
  <section>
    <div><strong>ü•§ Bebidas</strong></div>
    <div class="row" style="justify-content:space-between">
      <div class="row"><span>‚òï Caf√©</span><button id="coffeeMinus" class="pill">-1</button><button id="coffeePlus" class="pill">+1</button></div>
      <div id="coffeeIcons" class="hint"></div>
    </div>
    <div class="row" style="justify-content:space-between">
      <div class="row"><span>üç∑ √Ålcool</span><button id="alcoholMinus" class="pill">-1</button><button id="alcoholPlus" class="pill">+1</button></div>
      <div id="alcoholIcons" class="hint"></div>
    </div>
    <div class="hint">N√£o afetam a nota. Limites em configura√ß√µes.</div>
  </section>

  <!-- Hist√≥rico -->
  <section>
    <div><strong>üìò Hist√≥rico</strong></div>
    <div class="histHead">
      <div>Data</div>
      <div id="avgScore"></div>
      <div id="avgWeight" class="right"></div>
    </div>
    <div id="histList"></div>
  </section>

  <!-- Evolu√ß√£o -->
  <section>
    <div><strong>üìà Evolu√ß√£o</strong></div>
    <canvas id="chart" width="800" height="200"></canvas>
  </section>

  <!-- Config -->
  <section>
    <div class="row"><div><strong>‚öôÔ∏è Configura√ß√µes</strong> <span class="hint">v6.0.1</span></div><div id="loginStatus" class="hint right"></div></div>
    <div class="row">
      <div class="col"><label class="small">Meta de sono (h)</label><input id="cfgSleep" type="number" step="0.1" value="7"></div>
      <div class="col"><label class="small">Meta de √°gua (ml)</label><input id="cfgWater" type="number" step="50" value="2500"></div>
    </div>
    <div class="row">
      <div class="col"><label class="small">Peso alvo (kg)</label><input id="cfgGoal" type="number" step="0.1" value="81"></div>
      <div class="col"><label class="small">Copo padr√£o (ml)</label><input id="cfgCup" type="number" step="50" value="250"></div>
    </div>
    <div class="row">
      <div class="col"><label class="small">In√≠cio campanha</label><input id="cfgStart" type="date"></div>
      <div class="col"><label class="small">Fim campanha</label><input id="cfgEnd" type="date"></div>
    </div>
    <div class="row">
      <div class="col"><label class="small">Limite caf√© (x√≠caras)</label><input id="cfgCoffee" type="number" step="1" value="3"></div>
      <div class="col"><label class="small">Limite √°lcool (ta√ßas)</label><input id="cfgAlcohol" type="number" step="1" value="1"></div>
    </div>
    <div class="row">
      <button id="btnSaveCfg" class="btn">Salvar config</button>
      <button id="btnExport" class="btn secondary">Exportar CSV</button>
      <button id="btnWipe" class="btn ghost">Apagar tudo</button>
      <button id="btnSignOut" class="btn ghost right">Sair</button>
    </div>
  </section>
</main>

<script src="app.js?v=60120250810231537" defer></script>
</body></html>
